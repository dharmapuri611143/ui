<mat-card class="mt-8" [@animate]="{value:'*',params:{y:'50px',delay:'300ms'}}">
    <mat-card-title>
        STUDENT LIST
    </mat-card-title>
    <mat-card-content class="p-0">
        <div fxLayout="row">

            <mat-form-field>
                <!-- (ngModelChange)="search()" -->
                <input matInput placeholder="Search..." name="searchString" (keyup)="filter()" [(ngModel)]="searchString">
                <mat-icon style="font-weight: bold;" matPrefix>search</mat-icon>
                <mat-label>
                    Search...
                </mat-label>
            </mat-form-field>
            <span fxFlex></span>
            <button mat-raised-button color="primary" (click)="openPopup()">Add New</button>
        </div>


        <div>
            <ngx-datatable class="material ml-0 mr-0" [rows]="(users || {}).docs" [columnMode]="'force'" [headerHeight]="50" [footerHeight]="50" [count]="(users || {}).total" [rowHeight]="50" [externalPaging]="true" [offset]="(users || {}).offset" [limit]="(users || {}).limit"
                (page)='setPage($event)'>
                <ngx-datatable-column name="Name" [flexGrow]="1">
                    <ng-template let-row="row" ngx-datatable-cell-template>
                        {{ row?.username }}
                    </ng-template>
                </ngx-datatable-column>
                <ngx-datatable-column name="Email" [flexGrow]="1">
                    <ng-template let-row="row" ngx-datatable-cell-template>
                        {{ row?.email }}
                    </ng-template>
                </ngx-datatable-column>
                <ngx-datatable-column name="Phone" [flexGrow]="1">
                    <ng-template let-row="row" ngx-datatable-cell-template>
                        {{ row?.phone }}
                    </ng-template>
                </ngx-datatable-column>
                <ngx-datatable-column name="Created" [flexGrow]="1">
                    <ng-template let-row="row" ngx-datatable-cell-template>
                        {{ row?.created | date }}
                    </ng-template>
                </ngx-datatable-column>
                <ngx-datatable-column name="Status" [flexGrow]="1">
                    <ng-template let-row="row" ngx-datatable-cell-template>
                        <button mat-flat-button [color]="row.status==='Active' ? 'primary' : 'accent'" (click)="update(row._id, row.status, 'status')">{{row.status}}</button>
                    </ng-template>
                </ngx-datatable-column>

            </ngx-datatable>
        </div>
    </mat-card-content>
</mat-card>