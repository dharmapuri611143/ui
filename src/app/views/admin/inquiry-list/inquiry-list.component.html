<mat-card class="mt-8" [@animate]="{value:'*',params:{y:'50px',delay:'300ms'}}">
    <mat-card-title>
        INQUIRY LIST
    </mat-card-title>
    <mat-card-content class="p-0">
        <div fxLayout="row" style="width: 300px;">
            <!-- <form (ngSubmit)="filter()"> -->
            <mat-form-field class="full-width">
                <!-- (ngModelChange)="search()" -->
                <input matInput placeholder="Search..." name="searchString" (keyup)="filter()" [(ngModel)]="searchString">
                <mat-icon style="font-weight: bold;" matPrefix>search</mat-icon>
                <mat-label>
                    Search...
                </mat-label>
            </mat-form-field>
            <!-- </form> -->
        </div>
        <div>

            <ngx-datatable class="material ml-0 mr-0" [scrollbarH]="true" [rows]="(items || {}).docs" [columnMode]="'force'" [headerHeight]="50" [footerHeight]="50" [count]="(items || {}).total" [rowHeight]="50" [externalPaging]="true" [offset]="(items || {}).offset"
                [limit]="(items || {}).limit" (page)='setPage($event)'>

                <ngx-datatable-column name="Name" [flexGrow]="1">
                    <ng-template let-row="row" ngx-datatable-cell-template>
                        {{ row?.name }}
                    </ng-template>
                </ngx-datatable-column>
                <ngx-datatable-column name="Email" [flexGrow]="1">
                    <ng-template let-row="row" ngx-datatable-cell-template>
                        {{ row?.email }}
                    </ng-template>
                </ngx-datatable-column>
                <ngx-datatable-column name="Phone" [flexGrow]="1">
                    <ng-template let-row="row" ngx-datatable-cell-template>
                        {{ row?.phone }}
                    </ng-template>
                </ngx-datatable-column>
                <ngx-datatable-column name="Location" [flexGrow]="1">
                    <ng-template let-row="row" ngx-datatable-cell-template>
                        {{ row?.location }}
                    </ng-template>
                </ngx-datatable-column>
                <ngx-datatable-column name="Created Date" [flexGrow]="1">
                    <ng-template let-row="row" ngx-datatable-cell-template>
                        {{ row?.created | date }}
                    </ng-template>
                </ngx-datatable-column>

                <ngx-datatable-column name="Category" [flexGrow]="1">
                    <ng-template let-row="row" ngx-datatable-cell-template>
                        {{ row?.category }}
                    </ng-template>
                </ngx-datatable-column>
                <ngx-datatable-column name="Course" [flexGrow]="1">
                    <ng-template let-row="row" ngx-datatable-cell-template>
                        {{ row?.course }}
                    </ng-template>
                </ngx-datatable-column>
                <ngx-datatable-column name="Query" [flexGrow]="1">
                    <ng-template let-row="row" ngx-datatable-cell-template>
                        <span [matTooltip]="row?.message" matTooltipPosition="above">
                                  {{ row?.message }}
                              </span>
                    </ng-template>
                </ngx-datatable-column>
                <ngx-datatable-column name="Type" [flexGrow]="1">
                    <ng-template let-row="row" ngx-datatable-cell-template>
                        {{ row?.type }}
                    </ng-template>
                </ngx-datatable-column>
                <ngx-datatable-column name="Action" [flexGrow]="1" [width]="'200'">
                    <ng-template let-row="row" ngx-datatable-cell-template>
                        <button mat-flat-button style="margin-right: 10px;" [color]="row.status==='Open' ? 'warn' : (row.status==='Inprocess' ? 'accent' : 'primary')" (click)="statusChange(row._id, row.status)">{{row.status}}</button>

                        <button mat-flat-button [color]="'primary'">
                        <a [href]="'mailto:'+row?.email+'?Subject=Inquery'" target="_top">Send Mail</a>
                       </button>

                    </ng-template>
                </ngx-datatable-column>
            </ngx-datatable>
        </div>
    </mat-card-content>
</mat-card>